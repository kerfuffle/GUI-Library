package net.kerfuffle.Utilities;

import static net.kerfuffle.Utilities.DavisGUI.*;

import static org.lwjgl.opengl.GL11.*;

public class Player {

	private Quad box;
	private float speed = 5;
	private boolean cameraFollow = false;
	private Camera2D camera;
	public static float x,y;
	
	private int keyUp, keyDown, keyLeft, keyRight;
	
	public Player (Quad box, int up, int down, int left, int right, boolean cameraFollow)
	{
		this.box = box;
		this.cameraFollow = cameraFollow;
		
		keyUp = up;
		keyDown = down;
		keyRight = right;
		keyLeft = left;
		
		if (cameraFollow)
		{
			camera = new Camera2D(box.x+(box.w/2),box.y+(box.h/2), keyUp, keyDown, keyLeft, keyRight);
		}
	}
	
	public void setKeys(int up, int down, int left, int right)
	{
		keyUp = up;
		keyDown = down;
		keyRight = right;
		keyLeft = left;
	}
	public void setSpeed(float speed)
	{
		this.speed = speed;
	}
	public void cameraFollow(boolean b)
	{
		cameraFollow = b;
	}
	
	
	
	private void checkMovement()
	{
		x = box.x+25;
		y = box.y+25;
		if (keyDown(keyUp))
		{
			box.y += speed;
//			if (cameraFollow)
//			{
//				glTranslatef(0, -speed, 0);
//			}
		}
		if (keyDown(keyDown))
		{
			box.y -= speed;
//			if (cameraFollow)
//			{
//				glTranslatef(0, speed, 0);
//			}
		}
		if (keyDown(keyLeft))
		{
			box.x -= speed;
//			if (cameraFollow)
//			{
//				glTranslatef(speed, 0, 0);
//			}
		}
		if (keyDown(keyRight))
		{
			box.x += speed;
//			if (cameraFollow)
//			{
//				glTranslatef(-speed, 0, 0);
//			}
		}
	}

	
	
	public void update()
	{
		checkMovement();
		box.draw();
		camera.update();
	}
	
}
