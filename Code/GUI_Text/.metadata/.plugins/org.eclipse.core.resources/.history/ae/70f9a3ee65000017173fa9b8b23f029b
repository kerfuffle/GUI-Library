package net.kerfuffle.Utilities;

import static net.kerfuffle.Utilities.DavisGUI.*;

import static org.lwjgl.opengl.GL11.*;

public class Player {

	private Quad box;
	private float speed = 5;
	private boolean cameraFollow = false;
	private Camera2D camera;
	
	private int keyUp, keyDown, keyLeft, keyRight;
	
	public Player (Quad box, int up, int down, int left, int right, boolean cameraFollow)
	{
		this.box = box;
		this.cameraFollow = cameraFollow;
		
		keyUp = up;
		keyDown = down;
		keyRight = right;
		keyLeft = left;
		
		if (cameraFollow)
		{
			camera = new Camera2D(box.x+(box.w/2),box.y+(box.h/2), speed, keyUp, keyDown, keyLeft, keyRight);
		}
	}
	
	public void setKeys(int up, int down, int left, int right)
	{
		keyUp = up;
		keyDown = down;
		keyRight = right;
		keyLeft = left;
	}
	public void setZoomKeys(int zIn, int zOut)
	{
		camera.setZoomKeys(zIn, zOut);
	}
	public void setSpeed(float speed)
	{
		this.speed = speed;
		camera.setSpeed(speed);
	}
	public void cameraFollow(boolean b)
	{
		cameraFollow = b;
	}
	
	
	
	private void checkMovement()
	{
		if (keyDown(keyUp))
		{
			box.y += speed;
		}
		if (keyDown(keyDown))
		{
			box.y -= speed;
		}
		if (keyDown(keyLeft))
		{
			box.x -= speed;
		}
		if (keyDown(keyRight))
		{
			box.x += speed;
		}
	}

	
	
	public void update()
	{
		
		if (cameraFollow)
		{
			camera.setFocusZoom(box.x+(box.w/2), box.y+(box.h/2));
			camera.update();
		}
		
		checkMovement();
		box.draw();
		
		
		
	
	}
	
}
